# Vortex 트러블슈팅 가이드

## 1. 문제 진단 플로우차트

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         문제 진단 플로우차트                                 │
└─────────────────────────────────────────────────────────────────────────────┘

                        ┌─────────────────┐
                        │   문제 발생!    │
                        └────────┬────────┘
                                 │
                                 ▼
                    ┌────────────────────────┐
                    │ 플로팅 UI가 표시되나요? │
                    └────────────┬───────────┘
                                 │
              ┌──────────────────┼──────────────────┐
              │ NO               │                  │ YES
              ▼                  │                  ▼
    ┌─────────────────┐          │       ┌─────────────────┐
    │ → 섹션 2.1      │          │       │ ▶버튼 클릭 시   │
    │   서비스 미시작  │          │       │ 상태가 변하나요?│
    └─────────────────┘          │       └────────┬────────┘
                                 │                │
                                 │     ┌──────────┼──────────┐
                                 │     │ NO       │          │ YES
                                 │     ▼          │          ▼
                                 │ ┌─────────────┐│   ┌─────────────────┐
                                 │ │ → 섹션 2.2  ││   │ 콜 화면에서     │
                                 │ │   엔진 미작동││   │ 자동 클릭되나요?│
                                 │ └─────────────┘│   └────────┬────────┘
                                 │                │            │
                                 │                │ ┌──────────┼──────────┐
                                 │                │ │ NO       │          │ YES
                                 │                │ ▼          │          ▼
                                 │                │┌──────────┐│   ┌──────────┐
                                 │                ││→ 섹션 2.3││   │→ 섹션 2.5│
                                 │                ││ 버튼 감지 ││   │ 클릭 실패│
                                 │                ││ 실패     ││   │          │
                                 │                │└──────────┘│   └──────────┘
                                 │                │            │
                                 │                │            │
                                 └────────────────┴────────────┘
```

---

## 2. 문제별 원인 및 해결

### 2.1 플로팅 UI가 표시되지 않음

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                     문제: 플로팅 UI 미표시                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌──────────────────┐                                                       │
│  │ 체크포인트       │                                                       │
│  └────────┬─────────┘                                                       │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 1. SYSTEM_ALERT_WINDOW 권한 확인                                     │    │
│  │    위치: 설정 → 앱 → TwinMe → 다른 앱 위에 표시                       │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 2. FloatingStateService 시작 확인                                    │    │
│  │    Logcat: "FloatingStateService" 태그 필터링                        │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 3. Hilt 주입 확인                                                    │    │
│  │    @AndroidEntryPoint 어노테이션 확인                                │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌──────────────────┐                                                       │
│  │ 관련 파일        │                                                       │
│  └──────────────────┘                                                       │
│  • FloatingStateService.kt:50-60 (onCreate)                                 │
│  • AndroidManifest.xml (SYSTEM_ALERT_WINDOW 권한)                           │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.2 엔진이 시작되지 않음

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                     문제: 엔진 미작동                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌──────────────────┐                                                       │
│  │ 증상             │                                                       │
│  └──────────────────┘                                                       │
│  • ▶ 버튼 클릭해도 상태가 IDLE에서 변하지 않음                              │
│  • Logcat에 "엔진 시작" 메시지 없음                                         │
│                                                                              │
│  ┌──────────────────┐                                                       │
│  │ 원인             │                                                       │
│  └──────────────────┘                                                       │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 1. ICallEngine 주입 실패                                             │    │
│  │    확인: FloatingStateService.kt에서 engine이 null인지 확인           │    │
│  │    해결: @AndroidEntryPoint 및 @Inject 확인                          │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 2. 버튼 클릭 리스너 미연결                                           │    │
│  │    확인: FloatingStateService.kt:130-147 (setupButtonListeners)      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 3. 이미 실행 중 체크                                                 │    │
│  │    확인: engine.isRunning.value가 이미 true인 경우                   │    │
│  │    해결: engine.stop() 후 다시 start()                               │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌──────────────────┐                                                       │
│  │ 디버깅 방법      │                                                       │
│  └──────────────────┘                                                       │
│  Logcat 필터: "CallAcceptEngineImpl" 또는 "엔진"                            │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.3 버튼을 감지하지 못함

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                     문제: 버튼 감지 실패                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌──────────────────┐                                                       │
│  │ 증상             │                                                       │
│  └──────────────────┘                                                       │
│  • 상태가 WAITING_FOR_CALL에서 변하지 않음                                  │
│  • 콜 화면이 떠 있는데도 클릭되지 않음                                      │
│  • 10초 후 ERROR_TIMEOUT 발생                                               │
│                                                                              │
│  ┌──────────────────┐                                                       │
│  │ 원인 체크리스트   │                                                       │
│  └──────────────────┘                                                       │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 1. 접근성 서비스 활성화 확인                                          │    │
│  │    위치: 설정 → 접근성 → Vortex → ON                                  │    │
│  │    ★ 가장 흔한 원인!                                                  │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 2. View ID 변경 확인                                                  │    │
│  │    카카오T 앱 업데이트로 View ID가 변경되었을 수 있음                  │    │
│  │    → 섹션 3 "View ID 확인 방법" 참고                                  │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 3. 패키지명 확인                                                      │    │
│  │    현재 설정: com.kakao.taxi.driver                                   │    │
│  │    확인 파일: accessibility_service_config.xml                        │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 4. AccessibilityService 이벤트 수신 확인                              │    │
│  │    Logcat: "CallAcceptService" 태그                                   │    │
│  │    "onAccessibilityEvent" 호출 여부 확인                              │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌──────────────────┐                                                       │
│  │ 관련 파일        │                                                       │
│  └──────────────────┘                                                       │
│  • CallAcceptAccessibilityService.kt:17-25                                  │
│  • accessibility_service_config.xml                                         │
│  • WaitingForCallHandler.kt:15 (ACCEPT_BUTTON_ID)                          │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.4 확인 버튼 클릭 실패

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                     문제: 확인 버튼 클릭 실패                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌──────────────────┐                                                       │
│  │ 증상             │                                                       │
│  └──────────────────┘                                                       │
│  • 상태가 WAITING_FOR_CONFIRM에서 멈춤                                      │
│  • 첫 번째 버튼은 클릭되나 두 번째 확인 버튼이 안 됨                        │
│                                                                              │
│  ┌──────────────────┐                                                       │
│  │ 원인             │                                                       │
│  └──────────────────┘                                                       │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 1. 다이얼로그 View ID 변경                                            │    │
│  │    현재: com.kakao.taxi.driver:id/btn_positive                        │    │
│  │    → View ID 재확인 필요                                              │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 2. 다이얼로그 표시 타이밍                                             │    │
│  │    다이얼로그가 표시되기 전에 검색 시도                                │    │
│  │    → 재시도 로직 확인                                                 │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 3. 버튼 클릭 가능 상태                                                │    │
│  │    isClickable이 false일 수 있음                                      │    │
│  │    → Handler에서 isClickable 체크 로그 확인                           │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌──────────────────┐                                                       │
│  │ 관련 파일        │                                                       │
│  └──────────────────┘                                                       │
│  • WaitingForConfirmHandler.kt:15 (CONFIRM_BUTTON_ID)                      │
│  • WaitingForConfirmHandler.kt:25-30 (handle 메서드)                       │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.5 클릭은 되는데 수락이 안 됨

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                     문제: 클릭 후 수락 실패                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌──────────────────┐                                                       │
│  │ 증상             │                                                       │
│  └──────────────────┘                                                       │
│  • 로그에 "클릭 성공" 표시됨                                                │
│  • 하지만 실제로 버튼이 눌리지 않음                                         │
│  • 또는 "이미 배차된 콜" 메시지 표시                                        │
│                                                                              │
│  ┌──────────────────┐                                                       │
│  │ 원인             │                                                       │
│  └──────────────────┘                                                       │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 1. 경쟁 상황 (Race Condition)                                         │    │
│  │    다른 드라이버가 먼저 수락                                          │    │
│  │    → ERROR_ASSIGNED 상태 확인                                         │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 2. 잘못된 노드 클릭                                                   │    │
│  │    동일 ID를 가진 다른 요소가 있을 수 있음                            │    │
│  │    → findAccessibilityNodeInfosByViewId 결과 개수 확인                │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ 3. performAction 실패                                                 │    │
│  │    ACTION_CLICK 반환값이 true지만 실제 클릭 안 됨                     │    │
│  │    → 좌표 기반 클릭으로 대체 고려                                     │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 3. View ID 확인 방법

### 3.1 View ID 기반 클릭이 맞는지?

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      View ID 기반 클릭 방식 검증                             │
└─────────────────────────────────────────────────────────────────────────────┘

  ┌──────────────────┐
  │ 현재 사용 방식   │
  └──────────────────┘

  AccessibilityNodeInfo.findAccessibilityNodeInfosByViewId(viewId)
       │
       ▼
  반환된 노드에서 performAction(ACTION_CLICK)


  ┌──────────────────┐
  │ 장점             │
  └──────────────────┘
  ✓ ID가 유지되면 화면 레이아웃 변경에 강함
  ✓ 좌표 계산 불필요
  ✓ 다양한 해상도에서 동일하게 동작
  ✓ Android 권장 방식


  ┌──────────────────┐
  │ 단점             │
  └──────────────────┘
  ✗ 앱 업데이트로 View ID 변경 시 동작 안 함
  ✗ View ID가 없는 요소는 클릭 불가
  ✗ 동적으로 생성된 View는 ID가 없을 수 있음


  ┌──────────────────┐
  │ 대안 방식        │
  └──────────────────┘

  1. 텍스트 기반 검색
     findAccessibilityNodeInfosByText("수락하기")
     장점: ID 변경에 강함
     단점: 다국어 대응 필요, 텍스트 변경 시 실패

  2. 좌표 기반 클릭
     dispatchGesture()로 특정 좌표 클릭
     장점: 모든 요소 클릭 가능
     단점: 해상도별 좌표 다름, 레이아웃 변경에 취약

  3. 계층 구조 탐색
     부모/자식 관계로 노드 찾기
     장점: ID 없어도 가능
     단점: 구현 복잡, 구조 변경에 취약


  ┌──────────────────┐
  │ 결론             │
  └──────────────────┘
  현재 View ID 기반 방식이 가장 적합함.
  단, 카카오T 앱 업데이트 시 View ID 재확인 필수.
```

### 3.2 View ID 확인 도구

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         View ID 확인 방법                                    │
└─────────────────────────────────────────────────────────────────────────────┘

  ┌──────────────────┐
  │ 방법 1: Layout   │
  │ Inspector        │
  └──────────────────┘

  1. Android Studio → Tools → Layout Inspector
  2. 연결된 디바이스 선택
  3. 카카오T 드라이버 앱 실행
  4. 콜 화면으로 이동
  5. Layout Inspector에서 버튼 선택
  6. Attributes → id 확인


  ┌──────────────────┐
  │ 방법 2: uiautomator│
  │ viewer           │
  └──────────────────┘

  1. Android SDK tools 폴더로 이동
  2. uiautomatorviewer 실행
  3. Device Screenshot 버튼 클릭
  4. 버튼 요소 선택
  5. resource-id 속성 확인


  ┌──────────────────┐
  │ 방법 3: ADB 명령어│
  └──────────────────┘

  # 현재 화면 UI 덤프
  adb shell uiautomator dump /sdcard/ui.xml
  adb pull /sdcard/ui.xml

  # ui.xml에서 resource-id 검색
  grep -i "btn_call_accept" ui.xml
  grep -i "btn_positive" ui.xml


  ┌──────────────────┐
  │ 방법 4: 앱 내    │
  │ 로깅 추가        │
  └──────────────────┘

  // 모든 노드 ID 출력
  fun logAllNodes(node: AccessibilityNodeInfo, depth: Int = 0) {
      val indent = "  ".repeat(depth)
      Log.d("NodeDump", "${indent}${node.viewIdResourceName} - ${node.text}")
      for (i in 0 until node.childCount) {
          node.getChild(i)?.let { logAllNodes(it, depth + 1) }
      }
  }
```

### 3.3 현재 사용 중인 View ID

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        현재 설정된 View ID                                   │
└─────────────────────────────────────────────────────────────────────────────┘

  ┌─────────────────────────────────────────────────────────────────────────┐
  │  버튼             │  View ID                                            │
  ├─────────────────────────────────────────────────────────────────────────┤
  │  콜 수락 버튼      │  com.kakao.taxi.driver:id/btn_call_accept          │
  │  수락 확인 버튼    │  com.kakao.taxi.driver:id/btn_positive             │
  └─────────────────────────────────────────────────────────────────────────┘

  ┌──────────────────┐
  │ 정의 위치        │
  └──────────────────┘

  • WaitingForCallHandler.kt:14
    private const val ACCEPT_BUTTON_ID = "com.kakao.taxi.driver:id/btn_call_accept"

  • WaitingForConfirmHandler.kt:14
    private const val CONFIRM_BUTTON_ID = "com.kakao.taxi.driver:id/btn_positive"


  ┌──────────────────┐
  │ 변경 시 수정 위치│
  └──────────────────┘

  View ID가 변경되면 해당 Handler 파일의 상수만 수정하면 됨.
  (State Pattern 적용으로 변경 영향 최소화)
```

---

## 4. 컴포넌트별 문제 진단

### 4.1 레이어별 체크포인트

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        레이어별 체크포인트                                   │
└─────────────────────────────────────────────────────────────────────────────┘

  ┌─────────────────────────────────────────────────────────────────────────┐
  │  Layer              │  체크 항목                │  Logcat 태그          │
  ├─────────────────────────────────────────────────────────────────────────┤
  │  UI Layer           │                           │                       │
  │  (HomeFragment)     │  - 버튼 클릭 이벤트       │  HomeFragment         │
  │                     │  - ViewModel 연결         │                       │
  ├─────────────────────────────────────────────────────────────────────────┤
  │  ViewModel          │                           │                       │
  │  (CallAcceptViewModel)│- LiveData 업데이트      │  CallAcceptViewModel  │
  │                     │  - Engine 주입            │                       │
  ├─────────────────────────────────────────────────────────────────────────┤
  │  Engine             │                           │                       │
  │  (CallAcceptEngineImpl)│- 상태 변경            │  CallAcceptEngineImpl │
  │                     │  - Handler 실행          │                       │
  │                     │  - 타임아웃              │                       │
  ├─────────────────────────────────────────────────────────────────────────┤
  │  Handler            │                           │                       │
  │  (StateHandlers)    │  - 노드 검색             │  WaitingForCallHandler│
  │                     │  - 클릭 시도             │  WaitingForConfirm... │
  │                     │  - 결과 반환             │                       │
  ├─────────────────────────────────────────────────────────────────────────┤
  │  Service            │                           │                       │
  │  (Accessibility)    │  - 이벤트 수신           │  CallAcceptService    │
  │                     │  - 노드 전달             │                       │
  ├─────────────────────────────────────────────────────────────────────────┤
  │  Observer           │                           │                       │
  │  (StateLogging)     │  - 상태 관찰             │  StateLoggingObserver │
  │                     │  - 원격 로깅             │                       │
  └─────────────────────────────────────────────────────────────────────────┘
```

### 4.2 문제 위치 특정 방법

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        문제 위치 특정 방법                                   │
└─────────────────────────────────────────────────────────────────────────────┘

  Step 1: Logcat 필터 설정
  ────────────────────────

  adb logcat | grep -E "(CallAccept|Waiting|StateLogging|FloatingState)"

  또는 Android Studio Logcat에서:
  package:com.example.twinme


  Step 2: 상태 흐름 추적
  ────────────────────────

  정상 흐름:
  [Engine] 엔진 시작
  [Engine] 상태 변경: IDLE -> WAITING_FOR_CALL
  [Observer] 상태 변경 로깅: IDLE -> WAITING_FOR_CALL
  [Service] onAccessibilityEvent 호출
  [Handler] 콜 수락 버튼 찾는 중...
  [Handler] 콜 수락 버튼 클릭 시도
  [Handler] 콜 수락 버튼 클릭 성공
  [Engine] 상태 변경: WAITING_FOR_CALL -> WAITING_FOR_CONFIRM
  ...


  Step 3: 멈춘 위치 확인
  ────────────────────────

  로그가 어디서 멈췄는지 확인:

  ┌────────────────────────────────────────┬───────────────────────────────┐
  │ 마지막 로그                            │ 문제 위치                     │
  ├────────────────────────────────────────┼───────────────────────────────┤
  │ "엔진 시작" 없음                       │ FloatingStateService          │
  │ "상태 변경" 없음                       │ CallAcceptEngineImpl          │
  │ "onAccessibilityEvent" 없음            │ AccessibilityService 설정     │
  │ "버튼 찾는 중" 없음                    │ Handler 미실행                │
  │ "버튼을 찾지 못함"                     │ View ID 문제                  │
  │ "클릭 불가능"                          │ 버튼 상태 문제                │
  │ "클릭 실패"                            │ performAction 실패            │
  └────────────────────────────────────────┴───────────────────────────────┘
```

---

## 5. 로그 분석 가이드

### 5.1 정상 동작 로그 예시

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         정상 동작 로그 예시                                  │
└─────────────────────────────────────────────────────────────────────────────┘

D/CallAcceptEngineImpl: 엔진 시작
D/CallAcceptEngineImpl: 상태 변경: IDLE -> WAITING_FOR_CALL (이유: 엔진 시작됨)
D/StateLoggingObserver: 상태 변경 로깅: IDLE -> WAITING_FOR_CALL
D/StateLoggingObserver: 엔진 시작 로깅
D/CallAcceptService: onAccessibilityEvent: TYPE_WINDOW_CONTENT_CHANGED
D/WaitingForCallHandler: 콜 수락 버튼 찾는 중...
D/WaitingForCallHandler: 콜 수락 버튼 클릭 시도
D/WaitingForCallHandler: 콜 수락 버튼 클릭 성공
D/CallAcceptEngineImpl: 상태 변경: WAITING_FOR_CALL -> WAITING_FOR_CONFIRM
D/StateLoggingObserver: 상태 변경 로깅: WAITING_FOR_CALL -> WAITING_FOR_CONFIRM
D/CallAcceptService: onAccessibilityEvent: TYPE_WINDOW_STATE_CHANGED
D/WaitingForConfirmHandler: 수락 확인 버튼 찾는 중...
D/WaitingForConfirmHandler: 수락 확인 버튼 클릭 시도
D/WaitingForConfirmHandler: 수락 확인 버튼 클릭 성공
D/CallAcceptEngineImpl: 상태 변경: WAITING_FOR_CONFIRM -> CALL_ACCEPTED
D/StateLoggingObserver: 상태 변경 로깅: WAITING_FOR_CONFIRM -> CALL_ACCEPTED
D/StateLoggingObserver: 콜 결과 로깅: success=true, state=CALL_ACCEPTED
```

### 5.2 에러 로그 예시

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          에러 로그 예시                                      │
└─────────────────────────────────────────────────────────────────────────────┘

  ┌──────────────────┐
  │ 타임아웃 에러    │
  └──────────────────┘

  D/CallAcceptEngineImpl: 엔진 시작
  D/CallAcceptEngineImpl: 상태 변경: IDLE -> WAITING_FOR_CALL
  D/WaitingForCallHandler: 콜 수락 버튼 찾는 중...
  D/WaitingForCallHandler: 콜 수락 버튼을 찾지 못함
  D/WaitingForCallHandler: 콜 수락 버튼을 찾지 못함
  ... (10초간 반복)
  D/CallAcceptEngineImpl: 상태 변경: WAITING_FOR_CALL -> ERROR_TIMEOUT
  E/StateLoggingObserver: 콜 결과 로깅: success=false, error=타임아웃


  ┌──────────────────┐
  │ 클릭 실패 에러   │
  └──────────────────┘

  D/WaitingForCallHandler: 콜 수락 버튼 찾는 중...
  D/WaitingForCallHandler: 콜 수락 버튼 클릭 시도
  E/WaitingForCallHandler: 콜 수락 버튼 클릭 실패
  D/CallAcceptEngineImpl: 상태 변경: WAITING_FOR_CALL -> ERROR_UNKNOWN


  ┌──────────────────┐
  │ DI 주입 실패     │
  └──────────────────┘

  E/Hilt: Cannot inject members of VortexApplication
  E/Hilt: @AndroidEntryPoint missing on Activity/Service
```

---

## 6. 자주 묻는 질문 (FAQ)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              FAQ                                             │
└─────────────────────────────────────────────────────────────────────────────┘

Q1. 카카오T 앱이 업데이트되면 어떻게 하나요?
────────────────────────────────────────────
A: View ID가 변경되었을 수 있습니다.
   1. Layout Inspector로 새 View ID 확인
   2. WaitingForCallHandler.kt의 ACCEPT_BUTTON_ID 수정
   3. WaitingForConfirmHandler.kt의 CONFIRM_BUTTON_ID 수정
   4. 앱 재빌드


Q2. 다른 앱도 지원할 수 있나요?
────────────────────────────────
A: 네, State Pattern을 사용하므로:
   1. 새로운 StateHandler 구현
   2. StateModule에 등록
   3. accessibility_service_config.xml에 패키지 추가


Q3. 클릭 속도를 조절할 수 있나요?
────────────────────────────────
A: 현재는 즉시 클릭입니다.
   Handler에 delay 추가 가능:

   override fun handle(...): StateResult {
       delay(100) // 100ms 대기
       // 클릭 로직
   }


Q4. 로깅을 끄고 싶습니다.
───────────────────────────
A: RemoteLogger.setEnabled(false) 호출
   또는 SettingsManager에 로깅 on/off 설정 추가


Q5. 특정 조건에서만 수락하게 할 수 있나요?
──────────────────────────────────────────
A: IFilterSettings를 통해 조건 체크 가능:
   - shouldAcceptByAmount(): 금액 조건
   - shouldAcceptByKeyword(): 키워드 조건
   - isWithinTimeRange(): 시간대 조건

   Handler에서 이 조건들을 체크하도록 수정
```
